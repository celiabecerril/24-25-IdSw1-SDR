@startuml
!define RECTANGLE(x) rectangle x

RECTANGLE(ADMINISTRADOR)
RECTANGLE(PAGINA_PRINCIPAL)

' Menús principales
RECTANGLE(MENU_USUARIOS)
RECTANGLE(MENU_CLASES)
RECTANGLE(MENU_RUTINAS)
RECTANGLE(MENU_RETOS)
RECTANGLE(MENU_ASIGNATURAS)
RECTANGLE(MENU_CONFIGURACION)
RECTANGLE(MENU_REPORTES)

' Relación entre el Administrador y la Página Principal
ADMINISTRADOR --> PAGINA_PRINCIPAL : Iniciar Sesión
PAGINA_PRINCIPAL --> ADMINISTRADOR : Cerrar Sesión

' Conexiones desde la Página Principal a los Menús
PAGINA_PRINCIPAL --> MENU_USUARIOS : Administrar Usuarios
PAGINA_PRINCIPAL --> MENU_CLASES : Gestionar Clases
PAGINA_PRINCIPAL --> MENU_RUTINAS : Gestionar Rutinas
PAGINA_PRINCIPAL --> MENU_RETOS : Gestionar Retos
PAGINA_PRINCIPAL --> MENU_ASIGNATURAS : Administrar Asignaturas
PAGINA_PRINCIPAL --> MENU_CONFIGURACION : Configuración del Sistema
PAGINA_PRINCIPAL --> MENU_REPORTES : Ver Reportes y Estadísticas

' Subfunciones de Menú de Usuarios
RECTANGLE(CREAR_USUARIOS)
RECTANGLE(MODIFICAR_USUARIOS)
RECTANGLE(ELIMINAR_USUARIOS)
RECTANGLE(CONSULTAR_USUARIOS)
MENU_USUARIOS --> CREAR_USUARIOS : Crear Usuarios
MENU_USUARIOS --> MODIFICAR_USUARIOS : Modificar Usuarios
MENU_USUARIOS --> ELIMINAR_USUARIOS : Eliminar Usuarios
MENU_USUARIOS --> CONSULTAR_USUARIOS : Consultar Usuarios
MENU_USUARIOS --> PAGINA_PRINCIPAL : Volver al inicio

' Subfunciones de Menú de Clases
RECTANGLE(CREAR_CLASES)
RECTANGLE(MODIFICAR_CLASES)
RECTANGLE(ELIMINAR_CLASES)
RECTANGLE(CONSULTAR_CLASES)
MENU_CLASES --> CREAR_CLASES : Crear Clases
MENU_CLASES --> MODIFICAR_CLASES : Modificar Clases
MENU_CLASES --> ELIMINAR_CLASES : Eliminar Clases
MENU_CLASES --> CONSULTAR_CLASES : Consultar Clases
MENU_CLASES --> PAGINA_PRINCIPAL : Volver al inicio

' Subfunciones de Menú de Rutinas
RECTANGLE(CREAR_RUTINAS)
RECTANGLE(MODIFICAR_RUTINAS)
RECTANGLE(ELIMINAR_RUTINAS)
RECTANGLE(CONSULTAR_RUTINAS)
MENU_RUTINAS --> CREAR_RUTINAS : Crear Rutinas
MENU_RUTINAS --> MODIFICAR_RUTINAS : Modificar Rutinas
MENU_RUTINAS --> ELIMINAR_RUTINAS : Eliminar Rutinas
MENU_RUTINAS --> CONSULTAR_RUTINAS : Consultar Rutinas
MENU_RUTINAS --> PAGINA_PRINCIPAL : Volver al inicio

' Subfunciones de Menú de Retos
RECTANGLE(CREAR_RETOS)
RECTANGLE(MODIFICAR_RETOS)
RECTANGLE(ELIMINAR_RETOS)
RECTANGLE(CONSULTAR_RETOS)
MENU_RETOS --> CREAR_RETOS : Crear Retos
MENU_RETOS --> MODIFICAR_RETOS : Modificar Retos
MENU_RETOS --> ELIMINAR_RETOS : Eliminar Retos
MENU_RETOS --> CONSULTAR_RETOS : Consultar Retos
MENU_RETOS --> PAGINA_PRINCIPAL : Volver al inicio

' Subfunciones de Menú de Asignaturas
RECTANGLE(CREAR_ASIGNATURAS)
RECTANGLE(MODIFICAR_ASIGNATURAS)
RECTANGLE(ELIMINAR_ASIGNATURAS)
RECTANGLE(CONSULTAR_ASIGNATURAS)
MENU_ASIGNATURAS --> CREAR_ASIGNATURAS : Crear Asignaturas
MENU_ASIGNATURAS --> MODIFICAR_ASIGNATURAS : Modificar Asignaturas
MENU_ASIGNATURAS --> ELIMINAR_ASIGNATURAS : Eliminar Asignaturas
MENU_ASIGNATURAS --> CONSULTAR_ASIGNATURAS : Consultar Asignaturas
MENU_ASIGNATURAS --> PAGINA_PRINCIPAL : Volver al inicio

' Subfunciones de Menú de Configuración
RECTANGLE(CONFIGURAR_SISTEMA)
RECTANGLE(ADMINISTRAR_PERMISOS)
RECTANGLE(AJUSTES_GENERALES)
MENU_CONFIGURACION --> CONFIGURAR_SISTEMA : Configurar Sistema
MENU_CONFIGURACION --> ADMINISTRAR_PERMISOS : Administrar Permisos
MENU_CONFIGURACION --> AJUSTES_GENERALES : Ajustes Generales
MENU_CONFIGURACION --> PAGINA_PRINCIPAL : Volver al inicio

' Subfunciones de Menú de Reportes
RECTANGLE(CONSULTAR_REPORTES)
RECTANGLE(DESCARGAR_ESTADISTICAS)
MENU_REPORTES --> CONSULTAR_REPORTES : Consultar Reportes
MENU_REPORTES --> DESCARGAR_ESTADISTICAS : Descargar Estadísticas
MENU_REPORTES --> PAGINA_PRINCIPAL : Volver al inicio

@enduml
