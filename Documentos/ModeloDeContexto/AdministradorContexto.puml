@startuml
!define RECTANGLE(x) rectangle x

RECTANGLE(ADMINISTRADOR)
RECTANGLE(PAGINA_PRINCIPAL)

' Menús principales
RECTANGLE(MENU_USUARIOS)
RECTANGLE(MENU_RUTINAS)
RECTANGLE(MENU_RETOS)
RECTANGLE(MENU_CONFIGURACION)
RECTANGLE(MENU_REPORTES)

' Relación entre el Administrador y la Página Principal
ADMINISTRADOR --> PAGINA_PRINCIPAL : Iniciar Sesión
PAGINA_PRINCIPAL --> ADMINISTRADOR : Cerrar Sesión

' Conexiones desde la Página Principal a los Menús
PAGINA_PRINCIPAL --> MENU_USUARIOS : Administrar Usuarios
PAGINA_PRINCIPAL --> MENU_RUTINAS : Gestionar Rutinas
PAGINA_PRINCIPAL --> MENU_RETOS : Gestionar Retos
PAGINA_PRINCIPAL --> MENU_CONFIGURACION : Configuración del Sistema
PAGINA_PRINCIPAL --> MENU_REPORTES : Ver Reportes y Estadísticas

' Subfunciones de Menú de Usuarios
RECTANGLE(CREAR_USUARIOS)
RECTANGLE(MODIFICAR_USUARIOS)
RECTANGLE(ELIMINAR_USUARIOS)
RECTANGLE(CONSULTAR_USUARIOS)
MENU_USUARIOS --> CREAR_USUARIOS : Crear Usuarios
MENU_USUARIOS --> MODIFICAR_USUARIOS : Modificar Usuarios
MENU_USUARIOS --> ELIMINAR_USUARIOS : Eliminar Usuarios
MENU_USUARIOS --> CONSULTAR_USUARIOS : Consultar Usuarios
MENU_USUARIOS --> PAGINA_PRINCIPAL : Volver al inicio

' Subfunciones de Menú de Rutinas
RECTANGLE(CREAR_RUTINAS)
RECTANGLE(MODIFICAR_RUTINAS)
RECTANGLE(ELIMINAR_RUTINAS)
RECTANGLE(CONSULTAR_RUTINAS)
RECTANGLE(BATERIA_EJERCICIOS)
MENU_RUTINAS --> CREAR_RUTINAS : Crear Rutinas
MENU_RUTINAS --> MODIFICAR_RUTINAS : Modificar Rutinas
MENU_RUTINAS --> ELIMINAR_RUTINAS : Eliminar Rutinas
MENU_RUTINAS --> CONSULTAR_RUTINAS : Consultar Rutinas
MENU_RUTINAS --> BATERIA_EJERCICIOS : Modificar Bateria de Ejercicios
MENU_RUTINAS --> PAGINA_PRINCIPAL : Volver al inicio

' Subfunciones de Menú de Retos
RECTANGLE(MODIFICAR_RETOS)
RECTANGLE(ELIMINAR_RETOS)
MENU_RETOS --> MODIFICAR_RETOS : Modificar Retos
MENU_RETOS --> ELIMINAR_RETOS : Eliminar Retos
MENU_RETOS --> PAGINA_PRINCIPAL : Volver al inicio

' Subfunciones de Menú de Configuración
RECTANGLE(CONFIGURAR_SISTEMA)
RECTANGLE(ADMINISTRAR_PERMISOS)
RECTANGLE(AJUSTES_GENERALES)
MENU_CONFIGURACION --> CONFIGURAR_SISTEMA : Configurar Sistema
MENU_CONFIGURACION --> ADMINISTRAR_PERMISOS : Administrar Permisos
MENU_CONFIGURACION --> AJUSTES_GENERALES : Ajustes Generales
MENU_CONFIGURACION --> PAGINA_PRINCIPAL : Volver al inicio

' Subfunciones de Menú de Reportes
RECTANGLE(CONSULTAR_REPORTES)
RECTANGLE(DESCARGAR_ESTADISTICAS)
MENU_REPORTES --> CONSULTAR_REPORTES : Consultar Reportes
MENU_REPORTES --> DESCARGAR_ESTADISTICAS : Descargar Estadísticas
MENU_REPORTES --> PAGINA_PRINCIPAL : Volver al inicio

@enduml
