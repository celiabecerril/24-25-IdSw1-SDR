@startuml
!define RECTANGLE(x) rectangle x

RECTANGLE(ADMINISTRADOR)
RECTANGLE(PAGINA_PRINCIPAL)

' Menús principales
RECTANGLE(CONSULTAR_USUARIOS)
RECTANGLE(CONSULTAR_RUTINAS)
RECTANGLE(CONSULTAR_RETOS)
RECTANGLE(CONSULTAR_CONFIGURACION)
RECTANGLE(CONSULTAR_REPORTES)

' Relación entre el Administrador y la Página Principal
ADMINISTRADOR --> PAGINA_PRINCIPAL : Ingresar al sistema
PAGINA_PRINCIPAL --> ADMINISTRADOR : Cerrar Sesión

' Conexiones desde la Página Principal a los Menús
PAGINA_PRINCIPAL --> CONSULTAR_USUARIOS : Administrar Usuarios
CONSULTAR_USUARIOS --> PAGINA_PRINCIPAL : Ir al inicio

PAGINA_PRINCIPAL --> CONSULTAR_RUTINAS : Gestionar Rutinas
CONSULTAR_RUTINAS --> PAGINA_PRINCIPAL : Ir al inicio

PAGINA_PRINCIPAL --> CONSULTAR_RETOS : Gestionar Retos
CONSULTAR_RETOS --> PAGINA_PRINCIPAL : Ir al inicio

PAGINA_PRINCIPAL --> CONSULTAR_CONFIGURACION : Configurar el Sistema
CONSULTAR_CONFIGURACION --> PAGINA_PRINCIPAL : Ir al inicio

PAGINA_PRINCIPAL --> CONSULTAR_REPORTES : Ver Reportes y Estadísticas
CONSULTAR_REPORTES --> PAGINA_PRINCIPAL : Ir al inicio

' Subfunciones de Menú de Usuarios
RECTANGLE(CREAR_USUARIO)
RECTANGLE(MODIFICAR_USUARIO)
RECTANGLE(ELIMINAR_USUARIO)
CONSULTAR_USUARIOS --> CREAR_USUARIO : Crear Usuarios
CREAR_USUARIO --> CONSULTAR_USUARIOS : Ir al menú Usuarios

CONSULTAR_USUARIOS --> MODIFICAR_USUARIO : Modificar Usuarios
MODIFICAR_USUARIO --> CONSULTAR_USUARIOS : Ir al menú Usuarios

CONSULTAR_USUARIOS --> ELIMINAR_USUARIO : Eliminar Usuarios
ELIMINAR_USUARIO --> CONSULTAR_USUARIOS : Ir al menú Usuarios

' Subfunciones de Menú de Rutinas
RECTANGLE(CREAR_RUTINA)
RECTANGLE(MODIFICAR_RUTINA)
RECTANGLE(ELIMINAR_RUTINA)
RECTANGLE(BATERIA_EJERCICIOS)
CONSULTAR_RUTINAS --> CREAR_RUTINA : Crear Rutinas
CREAR_RUTINA --> CONSULTAR_RUTINAS : Ir al menú Rutinas

CONSULTAR_RUTINAS --> MODIFICAR_RUTINA : Modificar Rutinas
MODIFICAR_RUTINA --> CONSULTAR_RUTINAS : Ir al menú Rutinas

CONSULTAR_RUTINAS --> ELIMINAR_RUTINA : Eliminar Rutinas
ELIMINAR_RUTINA --> CONSULTAR_RUTINAS : Ir al menú Rutinas

CONSULTAR_RUTINAS --> BATERIA_EJERCICIOS : Modificar Batería de Ejercicios
BATERIA_EJERCICIOS --> CONSULTAR_RUTINAS : Ir al menú Rutinas
BATERIA_EJERCICIOS --> PAGINA_PRINCIPAL : Ir al inicio

' Subfunciones de Menú de Retos
RECTANGLE(CREAR_RETO)
RECTANGLE(MODIFICAR_RETO)
RECTANGLE(ELIMINAR_RETO)
CONSULTAR_RETOS --> CREAR_RETO : Crear Retos
CREAR_RETO --> CONSULTAR_RETOS : Ir al menú Retos

CONSULTAR_RETOS --> MODIFICAR_RETO : Modificar Retos
MODIFICAR_RETO --> CONSULTAR_RETOS : Ir al menú Retos

CONSULTAR_RETOS --> ELIMINAR_RETO : Eliminar Retos
ELIMINAR_RETO --> CONSULTAR_RETOS : Ir al menú Retos

' Subfunciones de Menú de Configuración
RECTANGLE(CONFIGURAR_SISTEMA)
RECTANGLE(ADMINISTRAR_PERMISOS)
RECTANGLE(AJUSTES_GENERALES)
CONSULTAR_CONFIGURACION --> CONFIGURAR_SISTEMA : Configurar Sistema
CONFIGURAR_SISTEMA --> CONSULTAR_CONFIGURACION : Ir al menú Configuración

CONSULTAR_CONFIGURACION --> ADMINISTRAR_PERMISOS : Administrar Permisos
ADMINISTRAR_PERMISOS --> CONSULTAR_CONFIGURACION : Ir al menú Configuración

CONSULTAR_CONFIGURACION --> AJUSTES_GENERALES : Ajustes Generales
AJUSTES_GENERALES --> CONSULTAR_CONFIGURACION : Ir al menú Configuración

' Subfunciones de Menú de Reportes
RECTANGLE(CONSULTAR_REPORTES_DETALLADOS)
RECTANGLE(DESCARGAR_ESTADISTICAS)
CONSULTAR_REPORTES --> CONSULTAR_REPORTES_DETALLADOS : Consultar Reportes Detallados
CONSULTAR_REPORTES_DETALLADOS --> CONSULTAR_REPORTES : Ir al menú Reportes

CONSULTAR_REPORTES --> DESCARGAR_ESTADISTICAS : Descargar Estadísticas
DESCARGAR_ESTADISTICAS --> CONSULTAR_REPORTES : Ir al menú Reportes

@enduml
